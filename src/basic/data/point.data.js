const POINT_RATE_BASE = 1000; // 1000원당 1포인트
const POINT_BONUS_KEYBOARD_MOUSE_SET = 50;
const POINT_BONUS_FULL_SET = 100;
const POINT_BONUS_QUANTITY_TIER1 = 20; // 10개 이상
const POINT_BONUS_QUANTITY_TIER2 = 50; // 20개 이상
const POINT_BONUS_QUANTITY_TIER3 = 100; // 30개 이상
const POINT_MULTIPLIER_TUESDAY = 2;

const POINT_POLICY = {
  DEFAULT: 'default',
  TUESDAY: 'tuesday',
  KEYBOARD_SET: 'keyboard-set',
  FULL_SET: 'full-set',
  BULK_BONUS_10: 'bulk-bonus-10',
  BULK_BONUS_20: 'bulk-bonus-20',
  BULK_BONUS_30: 'bulk-bonus-30',
};

const POINT_POLICY_MAP = {
  [POINT_POLICY.DEFAULT]: (_, totalPrice) => Math.floor(totalPrice / POINT_RATE_BASE),
  [POINT_POLICY.TUESDAY]: originalPoint => originalPoint * POINT_MULTIPLIER_TUESDAY,
  [POINT_POLICY.KEYBOARD_SET]: originalPoint => originalPoint + POINT_BONUS_KEYBOARD_MOUSE_SET,
  [POINT_POLICY.FULL_SET]: originalPoint => originalPoint + POINT_BONUS_FULL_SET,
  [POINT_POLICY.BULK_BONUS_10]: originalPoint => originalPoint + POINT_BONUS_QUANTITY_TIER1,
  [POINT_POLICY.BULK_BONUS_20]: originalPoint => originalPoint + POINT_BONUS_QUANTITY_TIER2,
  [POINT_POLICY.BULK_BONUS_30]: originalPoint => originalPoint + POINT_BONUS_QUANTITY_TIER3,
};

export {
  POINT_BONUS_FULL_SET,
  POINT_BONUS_KEYBOARD_MOUSE_SET,
  POINT_BONUS_QUANTITY_TIER1,
  POINT_BONUS_QUANTITY_TIER2,
  POINT_BONUS_QUANTITY_TIER3,
  POINT_MULTIPLIER_TUESDAY,
  POINT_POLICY_MAP,
  POINT_RATE_BASE,
};
